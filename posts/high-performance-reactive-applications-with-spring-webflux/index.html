<!DOCTYPE html><html lang="es-ES" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Aplicaciones Reactivas de Alto Rendimiento con Spring WebFlux" /><meta name="author" content="Benjamin" /><meta property="og:locale" content="es_ES" /><meta name="description" content="Ingeniería de software aplicada, tips, buenas práctias y códigos" /><meta property="og:description" content="Ingeniería de software aplicada, tips, buenas práctias y códigos" /><link rel="canonical" href="https://nullpointer-excelsior.github.io/posts/high-performance-reactive-applications-with-spring-webflux/" /><meta property="og:url" content="https://nullpointer-excelsior.github.io/posts/high-performance-reactive-applications-with-spring-webflux/" /><meta property="og:site_name" content="Nullpointer Excelsior" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-02-10T12:32:00-03:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Aplicaciones Reactivas de Alto Rendimiento con Spring WebFlux" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Benjamin"},"dateModified":"2023-02-10T12:32:00-03:00","datePublished":"2023-02-10T12:32:00-03:00","description":"Ingeniería de software aplicada, tips, buenas práctias y códigos","headline":"Aplicaciones Reactivas de Alto Rendimiento con Spring WebFlux","mainEntityOfPage":{"@type":"WebPage","@id":"https://nullpointer-excelsior.github.io/posts/high-performance-reactive-applications-with-spring-webflux/"},"url":"https://nullpointer-excelsior.github.io/posts/high-performance-reactive-applications-with-spring-webflux/"}</script><title>Aplicaciones Reactivas de Alto Rendimiento con Spring WebFlux | Nullpointer Excelsior</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Nullpointer Excelsior"><meta name="application-name" content="Nullpointer Excelsior"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/avatar.webp" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Nullpointer Excelsior</a></div><div class="site-subtitle font-italic">Ingeniería de software aplicada</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>INICIO</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORÍAS</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>ETIQUETAS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVO</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ACERCA DE</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/nullpointer-excelsior" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Inicio </a> </span> <span>Aplicaciones Reactivas de Alto Rendimiento con Spring WebFlux</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Entrada</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Buscar..."> </span> <span id="search-cancel" >Cancelar</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Aplicaciones Reactivas de Alto Rendimiento con Spring WebFlux</h1><div class="post-meta text-muted"> <span> Publicado <em class="" data-ts="1676043120" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2023-02-10 </em> </span><div class="d-flex justify-content-between"> <span> Por <em> Benjamin </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1783 palabras"> <em>9 min</em> de lectura</span></div></div></div><div class="post-content"><p><img data-src="https://i.ibb.co/TLTm5Jw/Screen-Shot-2023-02-12-at-23-31-52.png" alt="image" data-proofer-ignore></p><h2 id="qué-es-spring-webflux"><span class="mr-2">¿Qué es Spring WebFlux</span><a href="#qué-es-spring-webflux" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Spring WebFlux es un proyecto del Framework Spring que permite el desarrollo de aplicaciones web asíncronas siguiendo el paradigma de programación reactivo. Ofrece una alternativa al modelo síncrono de Spring Web MVC donde cada solicitud es atendida por un hilo separado.</p><p>La principal característica de WebFlux es su enfoque asíncrono y no bloqueante basado en la gestión de hilos similar al Event Loop de NodeJs, lo que permite procesar solicitudes de manera eficiente y escalable, especialmente en aplicaciones web con un alto tráfico de datos.</p><h3 id="entendiendo-flux-y-mono"><span class="mr-2">Entendiendo FLux y Mono</span><a href="#entendiendo-flux-y-mono" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Para crear aplicaciones reactivas debemos conocer a Flux y Mono que son objetos en el marco de trabajo Reactor que representan flujos de datos y eventos asíncronos.</p><ul><li><code class="language-plaintext highlighter-rouge">Flux:</code> representa flujos con múltiples valores<li><code class="language-plaintext highlighter-rouge">Mono:</code> representa flujos con un solo valor.</ul><p>Tanto Flux y Mono Ofrecen operadores para manipular y transformar los flujos de datos en aplicaciones reactivas. A su vez nos ofrece una manera simple de crear flujos a partir de otros objetos.</p><h3 id="subscripciones"><span class="mr-2">Subscripciones</span><a href="#subscripciones" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Para utilizar nuestros flujos reactivos debemos subscribirnos a estos ya que los objetos Flux son lazy. También nos da la posibilidad que puedan existir múltiples subscriptores a un flujo.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kt">var</span> <span class="n">flux</span> <span class="o">=</span> <span class="nc">Flux</span><span class="o">.</span><span class="na">fromIterable</span><span class="o">(</span><span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span><span class="mi">20</span><span class="o">,</span><span class="mi">30</span><span class="o">,</span><span class="mi">40</span><span class="o">,</span><span class="mi">50</span><span class="o">));</span> <span class="c1">// creating a Integer flux</span>
<span class="n">flux</span><span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span> <span class="c1">// subscribe to get values</span>
</pre></table></code></div></div><p>Entendiendo las bases implementaremos una API simple de ejemplo basados en el paradigma reactivo utilizado por WebFLux.</p><h2 id="qué-es-la-programación-reactiva"><span class="mr-2">¿Qué es la programación reactiva?</span><a href="#qué-es-la-programación-reactiva" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Es un paradigma de programación que se centra en la gestión de flujos de datos y eventos asíncronos. Se basa en la idea de que las aplicaciones deben responder de forma eficiente a los cambios en los flujos de datos y eventos, incluso cuando estos cambios son frecuentes y volátiles.</p><p>Este paradigma se describe en el <a href="https://www.reactivemanifesto.org/pdf/the-reactive-manifesto-2.0-es.pdf">Manifiesto Reactivo</a> esto quiere decir que los sistemas reactivos son:</p><ul><li><code class="language-plaintext highlighter-rouge">Responsivos:</code> tiempos de respuesta rápidos y consistentes.<li><code class="language-plaintext highlighter-rouge">Resilientes:</code> permite que el sistema siga funcionando incluso en caso de fallos.<li><code class="language-plaintext highlighter-rouge">Elasticicos:</code> permite al sistema adaptarse a cambios durante las cargas de trabajo.<li><code class="language-plaintext highlighter-rouge">Orientados a mensajes:</code> cuando un valor es emitido todo aquel componente que se halla suscrito obtendrá ese valor.</ul><p>El intercambio asíncrono de mensajes nos permite establecer fronteras entre componentes y mejorar la gestión de la carga, la elasticidad y el control de flujo.</p><h2 id="implementación-de-api-reactiva"><span class="mr-2">Implementación de API reactiva</span><a href="#implementación-de-api-reactiva" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Implementaremos nuestra aplicación reactiva basada en el artículo acerca de <a href="https://nullpointer-excelsior.github.io/posts/tranajando-con-1millon-de-registros-con-java-stream">Java Stream</a> básicamente trabajaremos sobre una tabla producto. Organizaremos nuestro repositorio como monorepositorio transformamos nuestro ejemplo de Stream de java en una librería llamada <code class="language-plaintext highlighter-rouge">products</code> y creamos las siguientes aplicaciones:</p><ul><li><code class="language-plaintext highlighter-rouge">api-webflux:</code> API Server que implementará <code class="language-plaintext highlighter-rouge">spring-webflux</code>.<li><code class="language-plaintext highlighter-rouge">api-blocking:</code> API Server bloqueante que usaremos para comparar el rendimiento contra una aplicación reactiva.<li><code class="language-plaintext highlighter-rouge">client-reactive:</code> Cliente http que consumirá nuestra API Reactiva.</ul><p>Declaramos la dependecia necesaria en <code class="language-plaintext highlighter-rouge">gradle.build</code>:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="c"># gradle.build</span>

<span class="c"># ... other configs</span>
dependencies <span class="o">{</span>
    implementation <span class="s1">'org.springframework.boot:spring-boot-starter-webflux'</span>
    implementation project<span class="o">(</span><span class="s2">":libs:products"</span><span class="o">)</span>
<span class="o">}</span>
</pre></table></code></div></div><p>Nuestra aplicación <code class="language-plaintext highlighter-rouge">api-webflux</code> solo contendrá una clase Main que inicia una aplicación Spring hacemos uso de nuestra librería <code class="language-plaintext highlighter-rouge">products</code> importada en el archivo de configuración <code class="language-plaintext highlighter-rouge">gradle.build</code></p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre>
<span class="nd">@Log4j2</span>
<span class="nd">@RestController</span> 
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"product"</span><span class="o">)</span>
<span class="nd">@SpringBootApplication</span>
<span class="nd">@Import</span><span class="o">(</span><span class="nc">ProductConfiguration</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="c1">// import spring configuration from products lib</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebFluxApplication</span> <span class="o">{</span>

    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="nc">ProductService</span> <span class="n">products</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">SpringApplication</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="nc">WebFluxApplication</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">args</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@GetMapping</span>
    <span class="kd">public</span> <span class="nc">Flux</span><span class="o">&lt;</span><span class="nc">Product</span><span class="o">&gt;</span> <span class="nf">getAllProducts</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"All products request"</span><span class="o">);</span>
        <span class="k">return</span> <span class="nc">Flux</span><span class="o">.</span><span class="na">fromStream</span><span class="o">(</span><span class="n">products</span><span class="o">.</span><span class="na">getAllProducts</span><span class="o">());</span>
    <span class="o">}</span>

<span class="o">}</span>

</pre></table></code></div></div><p>Para crear nuestro endpoint reactivo solo debemos devolver un objeto Flux y spring por debajo hará su magia. Como nuestro caso de uso retorna un objeto Stream hacemos uso del método <code class="language-plaintext highlighter-rouge">fromStream()</code> de la clase <code class="language-plaintext highlighter-rouge">Flux</code>. Con esto nuestra api reactiva esta lista.</p><h2 id="implementación-de-cliente-reactivo"><span class="mr-2">Implementación de cliente reactivo</span><a href="#implementación-de-cliente-reactivo" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>En nuestro proyecto cliente <code class="language-plaintext highlighter-rouge">client-reactive</code> haremos uso de <code class="language-plaintext highlighter-rouge">WebClient</code> (librería incorporada dentro de WebFlux) con el cual podremos obtener los datos en forma asíncrona. <code class="language-plaintext highlighter-rouge">WebClient</code> nos permite trabajar con flujos asíncronos proporcionando todas las bondades de la librería Reactor, A diferencia del clásico cliente de Spring <code class="language-plaintext highlighter-rouge">RestTemplate</code> el cual es bloqueante.</p><p>El siguiente código muestra como utilizar <code class="language-plaintext highlighter-rouge">WebClient</code> de forma básica. Podremos crear nuestro cliente dependiendo de nuestras necesidades.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="nc">WebClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">WebClient</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="s">"http://localhost:8080"</span><span class="o">);</span>

<span class="nc">Flux</span><span class="o">&lt;</span><span class="nc">Product</span><span class="o">&gt;</span> <span class="n">products</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">get</span><span class="o">()</span>
        <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="s">"/product"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">retrieve</span><span class="o">()</span>
        <span class="o">.</span><span class="na">bodyToFlux</span><span class="o">(</span><span class="nc">Product</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

<span class="n">products</span><span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>

</pre></table></code></div></div><p>Ahora Definimos nuestro <code class="language-plaintext highlighter-rouge">WebClient</code> como un bean de Spring disponible en toda la aplicación y lo inyectamos en nuestro componente <code class="language-plaintext highlighter-rouge">ProductAPI</code></p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="c1">// App Configuration</span>
<span class="nd">@Configuration</span>
<span class="nd">@SpringBootApplication</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppClientReactive</span> <span class="o">{</span>
    <span class="c1">// ..more code</span>
    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="nc">WebClient</span> <span class="nf">getWebClient</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">WebClient</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="s">"http://localhost:8080"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// Product API Component</span>
<span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ProductAPI</span> <span class="o">{</span>

    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="nc">WebClient</span> <span class="n">client</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nc">Flux</span><span class="o">&lt;</span><span class="nc">Product</span><span class="o">&gt;</span> <span class="nf">getProducts</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="na">get</span><span class="o">()</span>
                <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="s">"/product"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">retrieve</span><span class="o">()</span>
                <span class="o">.</span><span class="na">bodyToFlux</span><span class="o">(</span><span class="nc">Product</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

    <span class="o">}</span>

<span class="o">}</span>

</pre></table></code></div></div><p>Finalmente creamos nuestro <code class="language-plaintext highlighter-rouge">ProductService</code> que contendrá nuestros casos de uso utilizando las funciones que nos ofrece el paradigma reactivo.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
</pre><td class="rouge-code"><pre><span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ProductService</span> <span class="o">{</span>

    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="nc">ProductAPI</span> <span class="n">api</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nc">Flux</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">getBrands</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">api</span><span class="o">.</span><span class="na">getProducts</span><span class="o">()</span>
                <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">Product:</span><span class="o">:</span><span class="n">getBrand</span><span class="o">)</span>
                <span class="o">.</span><span class="na">distinct</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">Flux</span><span class="o">&lt;</span><span class="nc">Product</span><span class="o">&gt;</span> <span class="nf">getAllProducts</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">api</span><span class="o">.</span><span class="na">getProducts</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">Flux</span><span class="o">&lt;</span><span class="nc">Product</span><span class="o">&gt;</span> <span class="nf">getProductWithoutStock</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">api</span><span class="o">.</span><span class="na">getProducts</span><span class="o">()</span>
                <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">product</span> <span class="o">-&gt;</span> <span class="n">product</span><span class="o">.</span><span class="na">getStock</span><span class="o">()</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">Mono</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">&gt;</span> <span class="nf">countSkuWithoutStock</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">api</span><span class="o">.</span><span class="na">getProducts</span><span class="o">()</span>
                <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">product</span> <span class="o">-&gt;</span> <span class="n">product</span><span class="o">.</span><span class="na">getStock</span><span class="o">()</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span>
                <span class="o">.</span><span class="na">count</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">Mono</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="nf">sumStockDepartment604</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">api</span><span class="o">.</span><span class="na">getProducts</span><span class="o">()</span>
                <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">product</span> <span class="o">-&gt;</span> <span class="n">product</span><span class="o">.</span><span class="na">getDepartment</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"604"</span><span class="o">))</span>
                <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">Product:</span><span class="o">:</span><span class="n">getStock</span><span class="o">)</span>
                <span class="o">.</span><span class="na">reduce</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="nl">Integer:</span><span class="o">:</span><span class="n">sum</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">Flux</span><span class="o">&lt;</span><span class="nc">Brand</span><span class="o">&gt;</span> <span class="nf">groupByDepartment604Brand</span><span class="o">()</span> <span class="o">{</span>

        <span class="nc">Function</span><span class="o">&lt;</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">Product</span><span class="o">&gt;&gt;,</span> <span class="nc">Stream</span><span class="o">&lt;</span><span class="nc">Brand</span><span class="o">&gt;&gt;</span> <span class="n">mapToBrand</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">Product</span><span class="o">&gt;&gt;</span> <span class="n">map</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">map</span>
                <span class="o">.</span><span class="na">entrySet</span><span class="o">()</span>
                <span class="o">.</span><span class="na">stream</span><span class="o">()</span>
                <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">Brand:</span><span class="o">:</span><span class="n">fromEntrySet</span><span class="o">);</span>

        <span class="k">return</span> <span class="n">api</span><span class="o">.</span><span class="na">getProducts</span><span class="o">()</span>
                <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">product</span> <span class="o">-&gt;</span> <span class="n">product</span><span class="o">.</span><span class="na">getDepartment</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"604"</span><span class="o">))</span>
                <span class="o">.</span><span class="na">groupBy</span><span class="o">(</span><span class="n">p</span> <span class="o">-&gt;</span> <span class="n">p</span><span class="o">.</span><span class="na">getBrand</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="n">p</span><span class="o">.</span><span class="na">getBrand</span><span class="o">()</span> <span class="o">:</span> <span class="s">"No brand"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">flatMap</span><span class="o">(</span><span class="n">group</span> <span class="o">-&gt;</span> <span class="n">group</span><span class="o">.</span><span class="na">collectMultimap</span><span class="o">(</span><span class="nl">Product:</span><span class="o">:</span><span class="n">getBrand</span><span class="o">,</span> <span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span><span class="o">))</span>
                <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">mapToBrand</span><span class="o">)</span>
                <span class="o">.</span><span class="na">flatMap</span><span class="o">(</span><span class="nl">Flux:</span><span class="o">:</span><span class="n">fromStream</span><span class="o">);</span>

    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">Mono</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">&gt;</span> <span class="nf">getCount</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">api</span><span class="o">.</span><span class="na">getProducts</span><span class="o">().</span><span class="na">count</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>Las operaciones realizadas son muy similares a lo que lograríamos con Java Stream, pero esta se basa en un modelo de “pull”, en el que los datos se consumen poco a poco, a medida que se los va solicitando. En cambio ReactiveStream (En Reactor Flux) es un modelo “push-pull”, que permite que los datos se produzcan y se consuman de forma asíncrona. Se puede considerar a Flux como una mezcla de Stream + CompletableFuture con las siguientes características:</p><ul><li>muchos operadores aplicables a los flujos de datos.<li>soporte de BackPressure (velocidad de producción VS la velocidad de consumo de flujos).<li>control sobre el comportamiento del publicador y suscriptor.<li>control sobre la noción de tiempo (ventanas de almacenamiento de valores, agregar tiempos de espera y alternativas, etc.)</ul><p>Ya entendiendo las diferencias podemos aplicar operaciones más complejas a nuestro flujo reactivo como pueden ser:</p><p>múltiple subscripciones:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="kt">var</span> <span class="n">products</span> <span class="o">=</span> <span class="n">productService</span>
                <span class="o">.</span><span class="na">getProductWithoutStock</span><span class="o">()</span>
                <span class="o">.</span><span class="na">share</span><span class="o">();</span> <span class="c1">// Nos permite compartir una subscripcion a un unico flujo</span>
        
<span class="n">products</span><span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>

<span class="n">products</span><span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="n">p</span> <span class="o">-&gt;</span> <span class="n">stockService</span><span class="o">.</span><span class="na">updateStock</span><span class="o">(</span><span class="n">p</span><span class="o">));</span>

<span class="n">products</span><span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="n">p</span> <span class="o">-&gt;</span> <span class="n">emailService</span><span class="o">.</span><span class="na">notify</span><span class="o">(</span><span class="n">p</span><span class="o">));</span>

</pre></table></code></div></div><p>Operaciones sobre el tiempo</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kt">var</span> <span class="n">products</span> <span class="o">=</span> <span class="n">productService</span>
        <span class="o">.</span><span class="na">getProductWithoutStock</span><span class="o">()</span>
        <span class="o">.</span><span class="na">delayElements</span><span class="o">(</span><span class="nc">Duration</span><span class="o">.</span><span class="na">ofMillis</span><span class="o">(</span><span class="mi">100</span><span class="o">));</span>
<span class="n">products</span><span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</pre></table></code></div></div><p>Reintentos dependiendo de las condiciones que queramos contemplar:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="kt">var</span> <span class="n">products</span> <span class="o">=</span> <span class="n">productService</span>
                <span class="o">.</span><span class="na">getProductWithoutStock</span><span class="o">()</span>
                <span class="o">.</span><span class="na">retryWhen</span><span class="o">(</span><span class="nc">Retry</span><span class="o">.</span><span class="na">fixedDelay</span><span class="o">(</span><span class="mi">3L</span><span class="o">,</span> <span class="nc">Duration</span><span class="o">.</span><span class="na">ofSeconds</span><span class="o">(</span><span class="mi">10</span><span class="o">)));</span> <span class="c1">// Retry nos permitira construir la estrategia de retry mas adecuada a nuestro contexto</span>

<span class="n">products</span><span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>

</pre></table></code></div></div><p>También podemos realizar otras operaciones más complejas que necesitan ser explicadas más en profundidad, tales como:</p><ul><li>Control sobre quien va a ejecutar las tareas permitiéndonos el control de los hilos de manera pragmática<li>crear subscripciones internas sobre cada elemento de un flujo.<li>terminar una subscripción y unirse a otra.<li>manejar múltiples flujos dentro de un mismo flujo.</ul><p>WebFlux utiliza el proyecto <a href="https://projectreactor.io/">Reactor</a> para poder trabajar con el paradigma reactivo. su documentación es bien completa a nivel conceptual y en el uso de su API, pero el punto de partida ideal sería probar <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#spring-webflux">Spring WebFlux</a> el cual nos permitirá crear aplicaciones reactivas de manera sencilla. Este tipo de enfoque de desarrollo es ideal para microservicios.</p><h2 id="comparando-webmvc-vs-webflux"><span class="mr-2">Comparando WebMvc vs WebFlux</span><a href="#comparando-webmvc-vs-webflux" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Compararemos una API desarrollada con Spring WebMvc bloqueante y otra diseñada con WebFLux no bloqueante. Definimos nuestra dependecia en la aplicación <code class="language-plaintext highlighter-rouge">api-blocking</code>:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="c"># gradle.build</span>

<span class="c"># ... other configs</span>
dependencies <span class="o">{</span>
    implementation <span class="s1">'org.springframework.boot:spring-boot-starter-web'</span>
    implementation project<span class="o">(</span><span class="s2">":libs:products"</span><span class="o">)</span>
<span class="o">}</span>
</pre></table></code></div></div><p>Y montamos un clásico web server con spring</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="nd">@Log4j2</span>
<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"product"</span><span class="o">)</span>
<span class="nd">@SpringBootApplication</span>
<span class="nd">@Import</span><span class="o">(</span><span class="nc">ProductConfiguration</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebApplication</span> <span class="o">{</span>

    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="nc">ProductRepository</span> <span class="n">repository</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">SpringApplication</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="nc">WebApplication</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">args</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@GetMapping</span>
    <span class="kd">public</span> <span class="nc">Stream</span><span class="o">&lt;</span><span class="nc">Product</span><span class="o">&gt;</span> <span class="nf">getProducts</span><span class="o">(</span>
            <span class="nd">@RequestParam</span><span class="o">(</span><span class="n">value</span><span class="o">=</span> <span class="s">"limit"</span><span class="o">,</span> <span class="n">defaultValue</span><span class="o">=</span><span class="s">"100"</span><span class="o">)</span> <span class="nc">Integer</span> <span class="n">limit</span><span class="o">,</span>
            <span class="nd">@RequestParam</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"offset"</span><span class="o">,</span> <span class="n">defaultValue</span><span class="o">=</span><span class="s">"0"</span><span class="o">)</span> <span class="nc">Integer</span> <span class="n">offset</span>
    <span class="o">)</span> <span class="o">{</span>
        <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"Web-app Request limit: {}, offset: {}"</span><span class="o">,</span> <span class="n">limit</span><span class="o">,</span> <span class="n">offset</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">repository</span><span class="o">.</span><span class="na">findByPaginated</span><span class="o">(</span><span class="n">limit</span><span class="o">,</span> <span class="n">offset</span><span class="o">).</span><span class="na">stream</span><span class="o">();</span>
    <span class="o">}</span>

<span class="o">}</span>

</pre></table></code></div></div><p>Y Ahora podemos hacer el siguiente ejercicio con <code class="language-plaintext highlighter-rouge">curl</code> para ver la diferencia entre una api bloqueante y asíncrona.</p><p><code class="language-plaintext highlighter-rouge">Petición bloqueante</code></p><p><img data-src="https://i.ibb.co/4pJpCXs/Screen-Shot-2023-02-10-at-13-17-26.png" alt="curl1" data-proofer-ignore></p><p>Nuestra petición bloqueante esperará a terminar la operación de la API y nos devolverá los datos.</p><p><code class="language-plaintext highlighter-rouge">Petición no bloqueante</code></p><p><img data-src="https://i.ibb.co/XY9pGvP/Screen-Shot-2023-02-10-at-13-20-39.png" alt="curl2" data-proofer-ignore></p><p>Nuestra petición a la API reactiva va obteniendo los datos en forma parcial, no necesitamos que el servidor termine de realizar las operaciones para poder trabajar, nuestro cliente no se quedara bloqueado esperando una respuesta ya los datos vienen en un flujo de manera asíncrona. En este caso, la respuesta de nuestra API nos permite trabajar de forma reactiva.</p><p>Resumiendo las diferencias entre una API síncrona como Spring Web y el enfoque asíncrono que nos brinda WebFlux serían:</p><ul><li><p><code class="language-plaintext highlighter-rouge">Spring Web</code> utiliza un modelo de programación síncrono y basado en hilos, donde un hilo se bloquea hasta que se recibe una respuesta del servidor. Este modelo es efectivo para muchos casos, pero puede ser limitante en términos de escalabilidad y rendimiento en entornos de alto tráfico.</p><li><p><code class="language-plaintext highlighter-rouge">Spring WebFlux</code> utiliza un modelo de programación asíncrono y no bloqueante basado en un modelo concurrente EventLoop, donde el servidor puede manejar muchas solicitudes simultáneamente sin bloquear los hilos. Este modelo es más escalable y eficiente en entornos de alto tráfico y ofrece mejores tiempos de respuesta y una mejor gestión de recursos.</p></ul><h2 id="conclusiones"><span class="mr-2">Conclusiones</span><a href="#conclusiones" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Este es la primera mirada que le damos a Spring WebFlux y El modelo Reactivo la verdad este paradigma da para muchos ejemplos prácticos y casos de uso. Este enfoque es ideal para crear microservicios resilientes y escalables cuando necesitamos una comunicación síncrona podemos facilmente pasar a un modelo asíncrono con las ventajas que nos da la programación reactiva. Si estás desarrollando una aplicación web de tamaño medio con una cantidad moderada de tráfico, Spring Web probablemente sea suficiente. Pero si estás desarrollando una aplicación web de alta escalabilidad con una gran cantidad de tráfico, Spring WebFlux es la opción más adecuada debido a su enfoque reactivo y no bloqueante.</p><h2 id="github-repository"><span class="mr-2"><a href="https://github.com/nullpointer-excelsior/java-high-performance-api">Github repository</a></span><a href="#github-repository" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Meme de cortesía</p><p><img data-src="https://i.ibb.co/mGncR8v/Screen-Shot-2023-02-12-at-23-57-49.png" alt="meme" data-proofer-ignore></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='//categories/programacion/'>Programacion</a>, <a href='//categories/java/'>Java</a>, <a href='//categories/arquitectura-de-software/'>Arquitectura de software</a>, <a href='//categories/spring/'>Spring</a>, <a href='//categories/springboot/'>Springboot</a>, <a href='//categories/reactive/'>Reactive</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="//tags/java/" class="post-tag no-text-decoration" >Java</a> <a href="//tags/spring/" class="post-tag no-text-decoration" >Spring</a> <a href="//tags/reactive/" class="post-tag no-text-decoration" >Reactive</a> <a href="//tags/reactor/" class="post-tag no-text-decoration" >Reactor</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> Esta entrada está licenciada bajo <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> por el autor.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Compartir</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Aplicaciones+Reactivas+de+Alto+Rendimiento+con+Spring+WebFlux+-+Nullpointer+Excelsior&url=https%3A%2F%2Fnullpointer-excelsior.github.io%2Fposts%2Fhigh-performance-reactive-applications-with-spring-webflux%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Aplicaciones+Reactivas+de+Alto+Rendimiento+con+Spring+WebFlux+-+Nullpointer+Excelsior&u=https%3A%2F%2Fnullpointer-excelsior.github.io%2Fposts%2Fhigh-performance-reactive-applications-with-spring-webflux%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fnullpointer-excelsior.github.io%2Fposts%2Fhigh-performance-reactive-applications-with-spring-webflux%2F&text=Aplicaciones+Reactivas+de+Alto+Rendimiento+con+Spring+WebFlux+-+Nullpointer+Excelsior" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fnullpointer-excelsior.github.io%2Fposts%2Fhigh-performance-reactive-applications-with-spring-webflux%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copiar enlace" data-title-succeed="¡Enlace copiado!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Actualizado recientemente</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/microservicios-observabilidad-en-microservicios-un-ejemplo-practico-de-trazas-distribuidas/">Microservicios 2 Observabilidad en NestJs, un ejemplo práctico de trazas distribuidas</a><li><a href="/posts/realtime-with-reactive-programming/">Aplicaciones en tiempo real con programación reactiva</a><li><a href="/posts/tranajando-con-1millon-de-registros-con-java-stream/">Trabajando con 1 millón de registros con Java Stream</a><li><a href="/posts/disenando-microservicios-con-ddd/">Diseñando Microservicios con Domain Driven Design y NestJS</a><li><a href="/posts/alto-rendimiento-con-cqrs-eventos-en-nestjs/">CQRS en Soluciones de Alto Rendimiento con Nestjs</a></ul></div><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/typescript/">typescript</a> <a class="post-tag" href="/tags/nestjs/">nestjs</a> <a class="post-tag" href="/tags/arquitectura/">arquitectura</a> <a class="post-tag" href="/tags/hexagonal/">hexagonal</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/frontend/">frontend</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/microservicios/">microservicios,</a> <a class="post-tag" href="/tags/typescript/">Typescript</a> <a class="post-tag" href="/tags/architecture/">Architecture</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contenido</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Lecturas adicionales</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/tranajando-con-1millon-de-registros-con-java-stream/"><div class="card-body"> <em class="small" data-ts="1675092720" data-df="YYYY-MM-DD" > 2023-01-30 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Trabajando con 1 millón de registros con Java Stream</h3><div class="text-muted small"><p> Trabajando con 1 millón de registros con Java Stream Cuando trabajamos con grandes cantidades de datos lo primero que hacemos es definir un filtrado de la fuente de datos para poder trabajar co...</p></div></div></a></div><div class="card"> <a href="/posts/realtime-with-reactive-programming/"><div class="card-body"> <em class="small" data-ts="1677166320" data-df="YYYY-MM-DD" > 2023-02-23 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Aplicaciones en tiempo real con programación reactiva</h3><div class="text-muted small"><p> Las aplicaciones en tiempo real se definen como aquellas que ofrecen una respuesta en tiempo real a eventos del mundo real. Piensa en aplicaciones de chat en línea, aplicaciones de juegos, aplica...</p></div></div></a></div><div class="card"> <a href="/posts/que-es-y-como-funciona-el-event-sourcing-con-un-ejemplo-practico/"><div class="card-body"> <em class="small" data-ts="1738040400" data-df="YYYY-MM-DD" > 2025-01-28 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>¿Qué es y cómo funciona el Event Sourcing con un ejemplo práctico?</h3><div class="text-muted small"><p> ¿Qué es Event Sourcing? Event Sourcing es un patrón de arquitectura de software que trata cada cambio en el estado de una aplicación como un evento. En lugar de almacenar el estado actual de un ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="//posts/tranajando-con-1millon-de-registros-con-java-stream/" class="btn btn-outline-primary" prompt="Anterior"><p>Trabajando con 1 millón de registros con Java Stream</p></a> <a href="//posts/realtime-with-reactive-programming/" class="btn btn-outline-primary" prompt="Nuevo"><p>Aplicaciones en tiempo real con programación reactiva</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/nullpointer-excelsior">Benjamin</a>. <span data-toggle="tooltip" data-placement="top" title="Salvo que se indique explícitamente, las entradas de este blog están licenciadas bajo la Creative Commons Attribution 4.0 International (CC BY 4.0) License por el autor.">Algunos derechos reservados.</span></p></div><div class="footer-right"><p class="mb-0"> Hecho con <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> usando el tema <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> .</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/typescript/">typescript</a> <a class="post-tag" href="/tags/nestjs/">nestjs</a> <a class="post-tag" href="/tags/arquitectura/">arquitectura</a> <a class="post-tag" href="/tags/hexagonal/">hexagonal</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/frontend/">frontend</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/microservicios/">microservicios,</a> <a class="post-tag" href="/tags/typescript/">Typescript</a> <a class="post-tag" href="/tags/architecture/">Architecture</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">¡Oops! No se encuentran resultados.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/es.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/unregister.js"></script>
