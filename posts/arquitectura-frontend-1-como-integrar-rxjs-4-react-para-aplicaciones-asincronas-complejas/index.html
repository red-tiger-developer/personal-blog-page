<!DOCTYPE html><html lang="es-ES" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Arquitectura Frontend 1. Cómo integrar RxJS en React para aplicaciones asíncronas complejas" /><meta name="author" content="Benjamin" /><meta property="og:locale" content="es_ES" /><meta name="description" content="Ingeniería de software aplicada, tips, buenas práctias y códigos" /><meta property="og:description" content="Ingeniería de software aplicada, tips, buenas práctias y códigos" /><link rel="canonical" href="https://nullpointer-excelsior.github.io/posts/arquitectura-frontend-1-como-integrar-rxjs-4-react-para-aplicaciones-asincronas-complejas/" /><meta property="og:url" content="https://nullpointer-excelsior.github.io/posts/arquitectura-frontend-1-como-integrar-rxjs-4-react-para-aplicaciones-asincronas-complejas/" /><meta property="og:site_name" content="Nullpointer Excelsior" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-08-21T13:48:40-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Arquitectura Frontend 1. Cómo integrar RxJS en React para aplicaciones asíncronas complejas" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Benjamin"},"dateModified":"2023-08-21T13:48:40-04:00","datePublished":"2023-08-21T13:48:40-04:00","description":"Ingeniería de software aplicada, tips, buenas práctias y códigos","headline":"Arquitectura Frontend 1. Cómo integrar RxJS en React para aplicaciones asíncronas complejas","mainEntityOfPage":{"@type":"WebPage","@id":"https://nullpointer-excelsior.github.io/posts/arquitectura-frontend-1-como-integrar-rxjs-4-react-para-aplicaciones-asincronas-complejas/"},"url":"https://nullpointer-excelsior.github.io/posts/arquitectura-frontend-1-como-integrar-rxjs-4-react-para-aplicaciones-asincronas-complejas/"}</script><title>Arquitectura Frontend 1. Cómo integrar RxJS en React para aplicaciones asíncronas complejas | Nullpointer Excelsior</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Nullpointer Excelsior"><meta name="application-name" content="Nullpointer Excelsior"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/avatar.webp" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Nullpointer Excelsior</a></div><div class="site-subtitle font-italic">Ingeniería de software aplicada</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>INICIO</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORÍAS</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>ETIQUETAS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVO</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ACERCA DE</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/nullpointer-excelsior" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Inicio </a> </span> <span>Arquitectura Frontend 1. Cómo integrar RxJS en React para aplicaciones asíncronas complejas</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Entrada</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Buscar..."> </span> <span id="search-cancel" >Cancelar</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Arquitectura Frontend 1. Cómo integrar RxJS en React para aplicaciones asíncronas complejas</h1><div class="post-meta text-muted"> <span> Publicado <em class="" data-ts="1692640120" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2023-08-21 </em> </span><div class="d-flex justify-content-between"> <span> Por <em> Benjamin </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1416 palabras"> <em>7 min</em> de lectura</span></div></div></div><div class="post-content"><p><img data-src="https://i.ibb.co/Ct3vP4V/Screenshot-2023-08-21-at-17-06-58.png" alt="image" data-proofer-ignore></p><p>React es una excelente librería para crear componentes visuales. También nos brinda los hooks, con los cuales podemos trabajar con estados y efectos secundarios en situaciones asíncronas. Si bien para casos sencillos esto puede ser suficiente, manejar flujos asíncronos complejos puede hacer que nuestros componentes se conviertan en una ensalada de código. Afortunadamente, podemos integrar fácilmente RxJS para enfrentar estas situaciones. RxJS es una poderosa librería que nos permite trabajar con flujos asíncronos y eventos, permitiendo la reutilización de código y la creación de aplicaciones con alto flujo de datos y eventos.</p><p>Si no conoces sobre RxJS o la programación reactiva, te invito al siguiente <a href="https://nullpointer-excelsior.github.io/posts/Ejemplo-programaci%C3%B3n-reactiva-100-Real-No-Fake/">artículo</a> donde se explica en qué consiste este enfoque. Ahora bien, si estás interesado en crear aplicaciones más robustas, puedes seguir leyendo este artículo.</p><h2 id="custom-hooks-para-trabajar-con-rxjs"><span class="mr-2">Custom Hooks para trabajar con RxJS</span><a href="#custom-hooks-para-trabajar-con-rxjs" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>React nos permite crear nuestros propios hooks, lo que resulta en componentes más limpios y fáciles de mantener. Para ello, haremos uso de <code class="language-plaintext highlighter-rouge">useState()</code> y <code class="language-plaintext highlighter-rouge">useEffect()</code>, los clásicos de siempre.</p><h3 id="useobservable"><span class="mr-2">useObservable</span><a href="#useobservable" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Este hook nos permite trabajar con suscripciones de forma efectiva, sin que tengamos que preocuparnos por las fugas de memoria debido a la falta de desuscripción de los observables que estamos empleando.</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">useEffect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Observable</span><span class="p">,</span> <span class="nx">Observer</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">rxjs</span><span class="dl">"</span><span class="p">;</span>

<span class="cm">/**
 * Hook personalizado para suscribirse a un observable y ejecutar una acción cuando se emiten valores.
 * @template T El tipo de valor emitido por el observable.
 * @param {Observable&lt;T&gt;} observable$ El observable al que se desea suscribir.
 * @param {Partial&lt;Observer&lt;T&gt;&gt; | ((value: T) =&gt; void)} callback La función que se ejecutará cuando se emitan valores.
 */</span>
<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">useObservable</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">observable$</span><span class="p">:</span> <span class="nx">Observable</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">,</span> <span class="nx">callback</span><span class="p">:</span> <span class="nx">Partial</span><span class="o">&lt;</span><span class="nx">Observer</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;&gt;</span> <span class="o">|</span> <span class="p">((</span><span class="nx">value</span><span class="p">:</span> <span class="nx">T</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">))</span> <span class="p">{</span>
    
    <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="c1">// Se crea una suscripción al observable proporcionado</span>
        <span class="kd">const</span> <span class="nx">subscription</span> <span class="o">=</span> <span class="nx">observable$</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">callback</span><span class="p">);</span>
        
        <span class="c1">// La función de limpieza que se ejecutará al desmontar el componente</span>
        <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="c1">// Se desuscribe de la suscripción para evitar fugas de memoria</span>
            <span class="nx">subscription</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">();</span>
        <span class="p">};</span>
    <span class="p">},</span> <span class="p">[]);</span>
<span class="p">}</span>

</pre></table></code></div></div><h3 id="useobservablevalue"><span class="mr-2">useObservableValue</span><a href="#useobservablevalue" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Este hook nos permite usar los valores emitidos por un observable. Podremos escuchar cada valor emitido, los errores y también cuando el observable se completa.</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">useEffect</span><span class="p">,</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Observable</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">rxjs</span><span class="dl">"</span><span class="p">;</span>

<span class="cm">/**
 * Una tupla que representa el valor, el error y el estado de completado de un observable.
 * @template T El tipo de valor emitido por el observable.
 */</span>
<span class="nx">type</span> <span class="nx">ObservableValue</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>
    <span class="cm">/** El valor actual emitido por el observable. */</span>
    <span class="nx">value</span><span class="p">:</span> <span class="nx">T</span><span class="p">,</span>
    <span class="cm">/** El error, si se produce alguno, o `false` si no hay error. */</span>
    <span class="nx">error</span><span class="p">:</span> <span class="nx">any</span><span class="p">,</span>
    <span class="cm">/** Un indicador de si el observable ha sido completado (`true`) o no (`false`). */</span>
    <span class="nx">isCompleted</span><span class="p">:</span> <span class="nx">boolean</span>
<span class="p">];</span>

<span class="cm">/**
 * Hook para trabajar con valores emitidos por un observable.
 * @template T El tipo de valor emitido por el observable.
 * @param {Observable&lt;T&gt;} observable$ El observable del que se escucharán los valores.
 * @param {T} defaultValue El valor por defecto.
 * @returns {ObservableValue&lt;T&gt;} Una tupla con el valor actual, el error (si existe) y un indicador de si el observable está completado.
 */</span>
<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">useObservableValue</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">observable$</span><span class="p">:</span> <span class="nx">Observable</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">,</span> <span class="nx">defaultValue</span><span class="p">:</span> <span class="nx">T</span><span class="p">):</span> <span class="nx">ObservableValue</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="p">{</span>

    <span class="kd">const</span> <span class="p">[</span><span class="nx">value</span><span class="p">,</span> <span class="nx">setValue</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">defaultValue</span><span class="p">)</span>
    <span class="kd">const</span> <span class="p">[</span><span class="nx">error</span><span class="p">,</span> <span class="nx">setError</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="kc">false</span> <span class="o">|</span> <span class="nb">Error</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
    <span class="kd">const</span> <span class="p">[</span><span class="nx">isCompleted</span><span class="p">,</span> <span class="nx">setIsCompleted</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
    
    <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">subscription</span> <span class="o">=</span> <span class="nx">observable$</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">({</span>
            <span class="na">next</span><span class="p">:</span> <span class="p">(</span><span class="na">nextValue</span><span class="p">:</span> <span class="nx">T</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">setValue</span><span class="p">(</span><span class="nx">nextValue</span><span class="p">),</span>
            <span class="na">error</span><span class="p">:</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">"</span><span class="s2">useObservableValueError</span><span class="dl">"</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
                <span class="nx">setError</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
            <span class="p">},</span>
            <span class="na">complete</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">setIsCompleted</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
        <span class="p">})</span>
        <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">subscription</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">()</span>
    <span class="p">},[])</span>    

    <span class="k">return</span> <span class="p">[</span>
        <span class="nx">value</span><span class="p">,</span> 
        <span class="nx">error</span><span class="p">,</span>
        <span class="nx">isCompleted</span>
    <span class="p">]</span>

<span class="p">}</span>
</pre></table></code></div></div><h2 id="cómo-utilizar-nuestros-hooks"><span class="mr-2">Cómo utilizar nuestros Hooks</span><a href="#cómo-utilizar-nuestros-hooks" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Con estas sencillas implementaciones, analicemos los siguientes ejemplos.</p><h3 id="eventos-de-teclado"><span class="mr-2">Eventos de teclado</span><a href="#eventos-de-teclado" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="cm">/**
 * Crea un observable que emite eventos de teclado filtrados por la tecla especificada.
 * @param {'arrowUp' | 'ArrowDown' | 'ArrowLeft' | 'ArrowRight'} key La tecla de flecha a escuchar.
 * @returns {Observable&lt;KeyboardEvent&gt;} El observable que emite eventos de teclado filtrados.
 */</span>
<span class="kd">const</span> <span class="nx">keydown$</span> <span class="o">=</span> <span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">fromEvent</span><span class="p">(</span><span class="nb">document</span><span class="p">,</span> <span class="dl">"</span><span class="s2">keydown</span><span class="dl">"</span><span class="p">).</span><span class="nx">pipe</span><span class="p">(</span>
    <span class="nx">filter</span><span class="p">((</span><span class="nx">event</span><span class="p">:</span> <span class="nx">KeyboardEvent</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">event</span><span class="p">.</span><span class="nx">key</span> <span class="o">===</span> <span class="nx">key</span><span class="p">),</span> <span class="c1">// filtramos por la tecla especifica.</span>
    <span class="nx">takeUntil</span><span class="p">(</span><span class="nx">game$</span><span class="p">.</span><span class="nx">gameOver</span><span class="p">())</span> <span class="c1">// terminamos la emisión de valores hasta que el observable game$ termine</span>
<span class="p">);</span>

<span class="c1">// Suscripción a eventos de teclado</span>
<span class="nx">useObservable</span><span class="p">(</span><span class="nx">keydown$</span><span class="p">(</span><span class="dl">'</span><span class="s1">arrowUp</span><span class="dl">'</span><span class="p">),</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">movePlayer</span><span class="p">(</span><span class="dl">'</span><span class="s1">up</span><span class="dl">'</span><span class="p">));</span>
<span class="nx">useObservable</span><span class="p">(</span><span class="nx">keydown$</span><span class="p">(</span><span class="dl">'</span><span class="s1">ArrowDown</span><span class="dl">'</span><span class="p">),</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">movePlayer</span><span class="p">(</span><span class="dl">'</span><span class="s1">down</span><span class="dl">'</span><span class="p">));</span>
<span class="nx">useObservable</span><span class="p">(</span><span class="nx">keydown$</span><span class="p">(</span><span class="dl">'</span><span class="s1">ArrowLeft</span><span class="dl">'</span><span class="p">),</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">movePlayer</span><span class="p">(</span><span class="dl">'</span><span class="s1">left</span><span class="dl">'</span><span class="p">));</span>
<span class="nx">useObservable</span><span class="p">(</span><span class="nx">keydown$</span><span class="p">(</span><span class="dl">'</span><span class="s1">ArrowRight</span><span class="dl">'</span><span class="p">),</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">movePlayer</span><span class="p">(</span><span class="dl">'</span><span class="s1">right</span><span class="dl">'</span><span class="p">));</span>


</pre></table></code></div></div><p>Simulamos un juego donde escuchamos los eventos de las flechas de navegación y emitimos los eventos correspondientes.</p><p>Equivalente en React con hooks:</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useEffect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">movePlayer</span> <span class="o">=</span> <span class="p">(</span><span class="nx">direction</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Lógica para mover al jugador en la dirección especificada</span>
  <span class="p">};</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">handleKeyDown</span> <span class="o">=</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">switch</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">ArrowUp</span><span class="dl">'</span><span class="p">:</span>
          <span class="nx">movePlayer</span><span class="p">(</span><span class="dl">'</span><span class="s1">up</span><span class="dl">'</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">ArrowDown</span><span class="dl">'</span><span class="p">:</span>
          <span class="nx">movePlayer</span><span class="p">(</span><span class="dl">'</span><span class="s1">down</span><span class="dl">'</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">ArrowLeft</span><span class="dl">'</span><span class="p">:</span>
          <span class="nx">movePlayer</span><span class="p">(</span><span class="dl">'</span><span class="s1">left</span><span class="dl">'</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">ArrowRight</span><span class="dl">'</span><span class="p">:</span>
          <span class="nx">movePlayer</span><span class="p">(</span><span class="dl">'</span><span class="s1">right</span><span class="dl">'</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="nl">default</span><span class="p">:</span>
          <span class="k">break</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">};</span>

    <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">keydown</span><span class="dl">'</span><span class="p">,</span> <span class="nx">handleKeyDown</span><span class="p">);</span>

    <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">keydown</span><span class="dl">'</span><span class="p">,</span> <span class="nx">handleKeyDown</span><span class="p">);</span>
    <span class="p">};</span>
  <span class="p">},</span> <span class="p">[]);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="si">{</span><span class="cm">/* Contenido de tu aplicación */</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</pre></table></code></div></div><blockquote><p>Es importante mencionar que en ciertos escenarios, se puede simplificar este código utilizando el evento onKeyDown del componente deseado, sin necesidad de manipular el DOM directamente.</p></blockquote><h3 id="elegante-y-coqueto-statemanager"><span class="mr-2">Elegante y Coqueto StateManager</span><a href="#elegante-y-coqueto-statemanager" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre><td class="rouge-code"><pre><span class="k">export</span> <span class="kr">interface</span> <span class="nx">Book</span> <span class="p">{</span>
    <span class="nl">title</span><span class="p">:</span> <span class="kr">string</span>
    <span class="nx">pages</span><span class="p">:</span> <span class="kr">number</span>
    <span class="nx">genre</span><span class="p">:</span> <span class="kr">string</span>
    <span class="nx">cover</span><span class="p">:</span> <span class="kr">string</span>
    <span class="nx">synopsis</span><span class="p">:</span> <span class="kr">string</span>
    <span class="nx">year</span><span class="p">:</span> <span class="kr">number</span>
    <span class="nx">ISBN</span><span class="p">:</span> <span class="kr">string</span>
    <span class="nx">author</span><span class="p">:</span> <span class="kr">string</span>
  <span class="p">}</span>

<span class="k">export</span> <span class="kd">class</span> <span class="nx">BookStoreState</span> <span class="p">{</span>

  <span class="kd">constructor</span><span class="p">(</span><span class="k">private</span> <span class="nx">book$</span><span class="p">:</span> <span class="nx">BehaviorSubject</span><span class="o">&lt;</span><span class="nx">Book</span><span class="p">[]</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{}</span>

  <span class="nx">setBooks</span><span class="p">(</span><span class="nx">books</span><span class="p">:</span> <span class="nx">Book</span><span class="p">[]):</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">book$</span><span class="p">.</span><span class="nx">next</span><span class="p">(</span><span class="nx">books</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">addBook</span><span class="p">(</span><span class="nx">book</span><span class="p">:</span> <span class="nx">Book</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">books</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">book$</span><span class="p">.</span><span class="nx">getValue</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">books</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">b</span> <span class="o">=&gt;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">ISBN</span> <span class="o">===</span> <span class="nx">book</span><span class="p">.</span><span class="nx">ISBN</span><span class="p">)</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">book$</span><span class="p">.</span><span class="nx">next</span><span class="p">([...</span><span class="nx">books</span><span class="p">,</span> <span class="nx">book</span><span class="p">]);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nx">getBooks</span><span class="p">():</span> <span class="nx">Observable</span><span class="o">&lt;</span><span class="nx">Book</span><span class="p">[]</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">book$</span><span class="p">.</span><span class="nx">asObservable</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nx">getAuthors</span><span class="p">():</span> <span class="nx">Observable</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">[]</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">book$</span><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span>
      <span class="nx">map</span><span class="p">(</span><span class="nx">books</span> <span class="o">=&gt;</span> <span class="nx">books</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">book</span> <span class="o">=&gt;</span> <span class="nx">book</span><span class="p">.</span><span class="nx">author</span><span class="p">)),</span>
      <span class="nx">switchMap</span><span class="p">(</span><span class="nx">authors</span> <span class="o">=&gt;</span> <span class="k">of</span><span class="p">([...</span><span class="k">new</span> <span class="nb">Set</span><span class="p">(</span><span class="nx">authors</span><span class="p">)]))</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

</pre></table></code></div></div><p>Podemos crear un state manager reactivo con un enfoque más orientado al dominio, ideal para aplicaciones frontend con lógicas de negocio complejas. Este enfoque no tiene nada que envidiarle a bibliotecas más elaboradas e incluso resulta más sencillo que utilizar Redux o Context de React.</p><p>Generamos un archivo con la instancia del estado:</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">export</span> <span class="kd">const</span> <span class="nx">bookStoreState</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BookStoreState</span><span class="p">(</span><span class="k">new</span> <span class="nx">BehaviorSubject</span><span class="p">(</span><span class="nx">books</span><span class="p">));</span>
</pre></table></code></div></div><p>Y hacemos llamados en el componente para obtener un estado global:</p><div class="language-tsx highlighter-rouge"><div class="code-header"> <span data-label-text="Tsx"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre>
<span class="kd">const</span> <span class="nx">books$</span> <span class="o">=</span> <span class="nx">bookStoreState</span><span class="p">.</span><span class="nx">getBooks</span><span class="p">()</span>
<span class="kd">const</span> <span class="nx">authors$</span> <span class="o">=</span> <span class="nx">bookStoreState</span><span class="p">.</span><span class="nx">getAuthors</span><span class="p">()</span>

<span class="kd">function</span> <span class="nx">BooksComponent</span><span class="p">()</span> <span class="p">{</span>
  
  <span class="kd">const</span> <span class="p">[</span><span class="nx">books</span><span class="p">,</span> <span class="nx">booksError</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useObservableValue</span><span class="p">(</span><span class="nx">books$</span><span class="p">,</span> <span class="p">[])</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">authors</span><span class="p">,</span> <span class="nx">autorsError</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useObservableValue</span><span class="p">(</span><span class="nx">authors$</span><span class="p">,</span> <span class="p">[])</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="si">{</span><span class="cm">/* Contenido de tu aplicación */</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

</pre></table></code></div></div><p>Si deseamos que este State Manager sea específico de un solo componente, podemos hacer uso de <code class="language-plaintext highlighter-rouge">useRef()</code>:</p><div class="language-tsx highlighter-rouge"><div class="code-header"> <span data-label-text="Tsx"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre>
<span class="kd">function</span> <span class="nx">BooksComponent</span><span class="p">()</span> <span class="p">{</span>

  <span class="kd">const</span> <span class="nx">bookStoreRef</span> <span class="o">=</span> <span class="nx">useRef</span><span class="p">(</span><span class="k">new</span> <span class="nx">BookStoreState</span><span class="p">(</span><span class="k">new</span> <span class="nx">BehaviorSubject</span><span class="p">(</span><span class="nx">books</span><span class="p">)))</span>
  
  <span class="kd">const</span> <span class="p">[</span><span class="nx">books</span><span class="p">,</span> <span class="nx">booksError</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useObservableValue</span><span class="p">(</span><span class="nx">bookStoreRef</span><span class="p">.</span><span class="nx">current</span><span class="p">.</span><span class="nx">getBooks</span><span class="p">(),</span> <span class="p">[])</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">authors</span><span class="p">,</span> <span class="nx">autorsError</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useObservableValue</span><span class="p">(</span><span class="nx">bookStoreRef</span><span class="p">.</span><span class="nx">current</span><span class="p">.</span><span class="nx">getAuthors</span><span class="p">(),</span> <span class="p">[])</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="si">{</span><span class="cm">/* Contenido de tu aplicación */</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>


</pre></table></code></div></div><p>Estos ejemplos de uso nos proporcionan componentes más simples de implementar, ya que trasladamos la lógica compleja fuera de los hooks. Esto nos brinda varias ventajas:</p><ul><li>Componentes visuales más limpios y fáciles de mantener.<li>Lógica compleja de negocio reutilizable sin atarse a una librería o framework en particular.<li>Flujos asíncronos reutilizables.<li>Uso de variables reactivas y en tiempo real.<li>Pruebas unitarias de lógicas de negocio más sencillas.</ul><p>Por supuesto, hay algunas desventajas:</p><ul><li>Curva de aprendizaje alta para RxJS.<li>Flujos complejos pueden generar observables difíciles de entender.<li>Pruebas unitarias difíciles de crear con observables complejos, donde se necesita seguir minuciosamente el flujo.</ul><h1 id="conclusión">Conclusión</h1><p>RxJS nos proporciona un enfoque avanzado para trabajar con flujos de datos, eventos y código reactivo. La facilidad de integración con React se debe a los hooks básicos proporcionados por esta librería. Con RxJS, podemos crear aplicaciones más complejas tanto en términos de código asíncrono como en el ámbito de lógicas de negocio.</p><p><img data-src="https://i.ibb.co/XjjZFkX/Screenshot-2023-08-21-at-13-58-59.png" alt="meme" data-proofer-ignore></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='//categories/frontend/'>Frontend</a>, <a href='//categories/react/'>React</a>, <a href='//categories/rxjs/'>Rxjs</a>, <a href='//categories/arquitectura-frontend/'>Arquitectura Frontend</a>, <a href='//categories/javascript/'>Javascript</a>, <a href='//categories/typescript/'>Typescript</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="//tags/frontend/" class="post-tag no-text-decoration" >frontend</a> <a href="//tags/react/" class="post-tag no-text-decoration" >react</a> <a href="//tags/rxjs/" class="post-tag no-text-decoration" >rxjs</a> <a href="//tags/arquitectura-frontend/" class="post-tag no-text-decoration" >arquitectura frontend</a> <a href="//tags/javascript/" class="post-tag no-text-decoration" >javascript</a> <a href="//tags/typescript/" class="post-tag no-text-decoration" >typescript</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> Esta entrada está licenciada bajo <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> por el autor.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Compartir</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Arquitectura+Frontend+1.+C%C3%B3mo+integrar+RxJS+en+React+para+aplicaciones+as%C3%ADncronas+complejas+-+Nullpointer+Excelsior&url=https%3A%2F%2Fnullpointer-excelsior.github.io%2Fposts%2Farquitectura-frontend-1-como-integrar-rxjs-4-react-para-aplicaciones-asincronas-complejas%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Arquitectura+Frontend+1.+C%C3%B3mo+integrar+RxJS+en+React+para+aplicaciones+as%C3%ADncronas+complejas+-+Nullpointer+Excelsior&u=https%3A%2F%2Fnullpointer-excelsior.github.io%2Fposts%2Farquitectura-frontend-1-como-integrar-rxjs-4-react-para-aplicaciones-asincronas-complejas%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fnullpointer-excelsior.github.io%2Fposts%2Farquitectura-frontend-1-como-integrar-rxjs-4-react-para-aplicaciones-asincronas-complejas%2F&text=Arquitectura+Frontend+1.+C%C3%B3mo+integrar+RxJS+en+React+para+aplicaciones+as%C3%ADncronas+complejas+-+Nullpointer+Excelsior" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fnullpointer-excelsior.github.io%2Fposts%2Farquitectura-frontend-1-como-integrar-rxjs-4-react-para-aplicaciones-asincronas-complejas%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copiar enlace" data-title-succeed="¡Enlace copiado!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Actualizado recientemente</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/microservicios-observabilidad-en-microservicios-un-ejemplo-practico-de-trazas-distribuidas/">Microservicios 2 Observabilidad en NestJs, un ejemplo práctico de trazas distribuidas</a><li><a href="/posts/realtime-with-reactive-programming/">Aplicaciones en tiempo real con programación reactiva</a><li><a href="/posts/tranajando-con-1millon-de-registros-con-java-stream/">Trabajando con 1 millón de registros con Java Stream</a><li><a href="/posts/disenando-microservicios-con-ddd/">Diseñando Microservicios con Domain Driven Design y NestJS</a><li><a href="/posts/alto-rendimiento-con-cqrs-eventos-en-nestjs/">CQRS en Soluciones de Alto Rendimiento con Nestjs</a></ul></div><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/typescript/">typescript</a> <a class="post-tag" href="/tags/nestjs/">nestjs</a> <a class="post-tag" href="/tags/arquitectura/">arquitectura</a> <a class="post-tag" href="/tags/hexagonal/">hexagonal</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/frontend/">frontend</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/microservicios/">microservicios,</a> <a class="post-tag" href="/tags/typescript/">Typescript</a> <a class="post-tag" href="/tags/architecture/">Architecture</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contenido</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Lecturas adicionales</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/arquitectura-frontend-2-como-implementar-clean-arquitecture/"><div class="card-body"> <em class="small" data-ts="1697002727" data-df="YYYY-MM-DD" > 2023-10-11 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Arquitectura Frontend 2. Cómo implementar Clean Architecture en el Frontend.</h3><div class="text-muted small"><p> La aplicación de los principios de la arquitectura limpia (Clean Architecture) no se limita al ámbito del backend; de hecho, pueden ser igualmente beneficiosos cuando se aplican al frontend, ofre...</p></div></div></a></div><div class="card"> <a href="/posts/Ejemplo-programaci%C3%B3n-reactiva-100-Real-No-Fake/"><div class="card-body"> <em class="small" data-ts="1663716720" data-df="YYYY-MM-DD" > 2022-09-20 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Ejemplo programación reactiva 100% Real No Fake</h3><div class="text-muted small"><p> Ejemplo programación reactiva 100% Real No Fake La programación reactiva es un paradigma enfocado en el trabajo con flujos de datos finitos o infinitos de manera asíncrona. Su concepción y evoluci...</p></div></div></a></div><div class="card"> <a href="/posts/Usando-los-Hooks-de-React-m%C3%A1s-all%C3%A1-del-useState/"><div class="card-body"> <em class="small" data-ts="1663803120" data-df="YYYY-MM-DD" > 2022-09-21 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Usando los Hooks de React más allá del useState</h3><div class="text-muted small"><p> Usando los Hooks de React más allá del useState Hack 1 - Petición asíncrona con useState() y useEffect() juntos El siguiente componente muestra los datos obtenidos mediante una operación asíncron...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="//posts/como-implementar-un-eventbus-y-rxjs-en-conjunto/" class="btn btn-outline-primary" prompt="Anterior"><p>Arquitecturas Orientadas a Eventos. Implementando un EventBus y RxJS en Conjunto</p></a> <a href="//posts/arquitectura-frontend-2-como-implementar-clean-arquitecture/" class="btn btn-outline-primary" prompt="Nuevo"><p>Arquitectura Frontend 2. Cómo implementar Clean Architecture en el Frontend.</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/nullpointer-excelsior">Benjamin</a>. <span data-toggle="tooltip" data-placement="top" title="Salvo que se indique explícitamente, las entradas de este blog están licenciadas bajo la Creative Commons Attribution 4.0 International (CC BY 4.0) License por el autor.">Algunos derechos reservados.</span></p></div><div class="footer-right"><p class="mb-0"> Hecho con <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> usando el tema <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> .</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/typescript/">typescript</a> <a class="post-tag" href="/tags/nestjs/">nestjs</a> <a class="post-tag" href="/tags/arquitectura/">arquitectura</a> <a class="post-tag" href="/tags/hexagonal/">hexagonal</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/frontend/">frontend</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/microservicios/">microservicios,</a> <a class="post-tag" href="/tags/typescript/">Typescript</a> <a class="post-tag" href="/tags/architecture/">Architecture</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">¡Oops! No se encuentran resultados.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/es.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/unregister.js"></script>
